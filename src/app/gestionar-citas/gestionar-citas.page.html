<ion-app>
  <ion-menu contentId="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Menua</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content color="primary">
      <div color="primary" class="menu-container">
        <ion-list color="primary">
          <ion-item color="primary" routerLink="/gestionar-citas">
            <ion-icon slot="start" name="calendar-outline"></ion-icon>
            <ion-label>Hitzorduak</ion-label>
          </ion-item>
          <ion-item color="primary" routerLink="/calendario">
            <ion-icon slot="start" name="calendar-outline"></ion-icon>
            <ion-label>Egutegia</ion-label>
          </ion-item>
          <ion-item color="primary" routerLink="/clientes">
            <ion-icon slot="start" name="person-circle-outline"></ion-icon>
            <ion-label>Bezeroak</ion-label>
          </ion-item>
          <ion-item color="primary" routerLink="/servicios">
            <ion-icon slot="start" name="cut-outline"></ion-icon>
            <ion-label>Zerbitzuak</ion-label>
          </ion-item>
          <ion-item color="primary" routerLink="/inventario">
            <ion-icon slot="start" name="cube-outline"></ion-icon>
            <ion-label>Inbentarioa</ion-label>
          </ion-item>
          <ion-item color="primary" routerLink="/administracion">
            <ion-icon slot="start" name="settings-outline"></ion-icon>
            <ion-label>Administrazioa</ion-label>
          </ion-item>
          <ion-item color="primary" routerLink="/tickets">
            <ion-icon slot="start" name="document-text-outline"></ion-icon>
            <ion-label>Tickets-ak</ion-label>
          </ion-item>
        </ion-list>
      </div>
    </ion-content>
  </ion-menu>

  <div class="page-wrapper">
    <ion-content id="main-content">
      <ion-header>
        <ion-toolbar color="primary">
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>
          <ion-title>Gestionar Citas</ion-title>
        </ion-toolbar>
      </ion-header>

      <div class="container">
        <h1>Gesti√≥n de Citas</h1>

        <div *ngIf="citas && citas.length > 0" class="citas-container">
          <div *ngFor="let cita of citas" (click)="abrirModal(cita)" class="cita-card">
            <ion-card>
              <ion-card-header>
                <ion-card-title>{{ cita.izena }} - {{ cita.data }}</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                <p>{{ cita.hasiera_ordua }} - {{ cita.amaiera_ordua }}</p>
                <p>{{ cita.deskribapena }}</p>
              </ion-card-content>
            </ion-card>
          </div>
        </div>

        <ion-modal [isOpen]="modalAbierto" (ionModalDidDismiss)="cerrarModal()">
          <ng-template>
            <ion-header>
              <ion-toolbar color="primary">
                <ion-title>Detalles de la Cita</ion-title>
                <ion-buttons slot="end">
                  <ion-button (click)="cerrarModal()">Cerrar</ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>

            <ion-content class="modal-content">
              <ion-item>
                <ion-label>ID</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.id"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Eserlekua</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.eserlekua"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Data</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.data"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Hasiera Ordua</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.hasiera_ordua"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Amaiera Ordua</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.amaiera_ordua"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Izena</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.izena"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Telefonoa</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.telefonoa"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Deskribapena</ion-label>
                <ion-textarea [(ngModel)]="citaSeleccionada.deskribapena"></ion-textarea>
              </ion-item>

              <ion-item>
                <ion-label>Etxekoa</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.etxekoa"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label>Prezio Totala</ion-label>
                <ion-input [(ngModel)]="citaSeleccionada.prezio_totala"></ion-input>
              </ion-item>

              <ion-footer>
                <ion-buttons>
                  <ion-button class="confirmar-button" (click)="confirmarCambios()">Confirmar</ion-button>
                  <ion-button class="cancelar-button" (click)="cancelarCambios()">Cancelar</ion-button>
                </ion-buttons>
              </ion-footer>
            </ion-content>
          </ng-template>
        </ion-modal>
      </div>
    </ion-content>
  </div>
</ion-app>